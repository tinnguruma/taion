<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>体温[デモ]</title>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <script type="text/javascript">
        
        function count(){
          var thisCount = $("#count").html();
              thisCount = Number(thisCount);
              thisCount = thisCount + 1;
          $("#count").html(thisCount);
        }


        // ページ読込完了後にボタンにclickイベントを登録する
        window.addEventListener("load", function () {
            document.getElementById("send_mixdata").addEventListener("click", function () {
                // FoemDataオブジェクトに要素セレクタを渡して宣言する
                var formDatas = document.getElementById("userinfo2");
                var mixedDatas = new FormData(formDatas);

                // appendメソッドでキーとデータの組をセットする
                // append("キー(FORMで云うところのname属性値)",  "データ")でデータをセットできる
                // appendではデータは追加となる
                //mixedDatas.append("filename",  "test.txt");
                //mixedDatas.append("filesize",  "10,154B");
                //mixedDatas.append("entry.467483411",  "%E3%80%87+%E8%89%AF%E5%A5%BD");
                //mixedDatas.append("entry.623051254",  "%E3%80%87+%E8%89%AF%E5%A5%BD");

                // XHRの宣言
                var XHR = new XMLHttpRequest();

                // openメソッドにPOSTを指定して送信先のURLを指定します
                XHR.open("POST", "https://docs.google.com/forms/u/0/d/e/1FAIpQLSfcpLWqG5gwd1eBMqMosr85v0RGy2I7eYqW41wnjaRP6JSNVw/formResponse", true);

                // sendメソッドにデータを渡して送信を実行する
                XHR.send(mixedDatas);

                // サーバの応答をonreadystatechangeイベントで検出して正常終了したらデータを取得する
                XHR.onreadystatechange = function () {
                    if (XHR.readyState == 4 && XHR.status == 200) {
                        // POST送信した結果を表示する
                        document.getElementById("mixdata_response").innerHTML = XHR.responseText;
                    }
                };
            }, false);
        }, false);
    </script>
</head>

<body>

    <form id="userinfo2">
        <p>
            <label for="item1">クラス番号</label>
            <input name="entry.560775202" value="1" id="item1">
            <label for="item1">名前</label>
            <input name="entry.1667600988" value="1" id="item2">
            <label for="item1">日付</label>
            <input name="entry.1825207525" value="1" id="item3">
            <label for="item1">体温</label>
            <input name="entry.550358242" value="36.0以下" id="item4">
            <label for="item1">体温</label>
            <input name="entry.467483411" value="〇 良好" id="item4">
            <label for="item1">体温</label>
            <input name="entry.623051254" value="〇 良好" id="item4">
           
          
        </p>

    </form>
    <p>
        <button type="button" id="send_mixdata" onClick="count();">送信！！</button>
    </p>
  チェックはどっちにも入れます(内部実行)
    <div id="mixdata_response">
        <!-- 結果を出力する -->
    </div>

    <br>
    <p>カウンター：<span id="count">0</span></p>
    見えないけどこの数分だけ送信されてます
    <br>
    連打しすぎると送れないので注意(四回/秒くらいなら大丈夫)
    <br>
    <br>
    <br>
    変更1
    <!--//<form action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSc3YC21yQIL9H7NZpI8ibBFOANAMDWkrayblsdZ762wIM0Tzw/formResponse" method="post" onsubmit="doSomething();return false;">
    //<div><label>お名前：</label><input type="text" name="entry.353722469" value="" required /></div>
    //<p><input type="submit"value="送信"></p>   
    //</form> 
-->
    
    <!-- admax -->
<script src="https://adm.shinobi.jp/s/c88878e1d79594bda5ed00b1a464c9e7"></script>
<!-- admax -->
    <!-- admax -->
<script src="https://adm.shinobi.jp/s/c88878e1d79594bda5ed00b1a464c9e7"></script>
<!-- admax -->
    <!-- admax -->
<script src="https://adm.shinobi.jp/s/c88878e1d79594bda5ed00b1a464c9e7"></script>
<!-- admax -->
    
    <!-- admax -->
<script src="https://adm.shinobi.jp/s/e45be90a86e031ea2b12bd34aba86a9f"></script>
<!-- admax -->
</body>

</html>
